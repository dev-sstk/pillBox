# 복용 횟수 설정 화면 테스트 가이드

> **DoseCountScreen 테스트 및 사용법**

## 📋 개요

복용 횟수 설정 화면은 하루에 복용할 알약의 횟수를 설정하는 화면입니다. 사용자가 1회부터 4회까지 선택할 수 있으며, 선택한 횟수에 따라 다음 화면에서 시간 설정을 진행합니다.

## 🎯 주요 기능

- **복용 횟수 선택** (1회, 2회, 3회, 4회)
- **시각적 선택 표시** (선택된 항목 하이라이트)
- **Modern UI 스타일** 적용
- **한글 폰트** 지원
- **버튼 조작** 인터페이스

## 🚀 테스트 방법

### 1. 개별 화면 테스트
```bash
# main.py 실행 후 메뉴에서 4번 선택
선택 (1-11): 4
```

### 2. 테스트 시나리오
1. **복용 횟수 선택 테스트**
   - **A/B 버튼**: 복용 횟수 옵션에서 위/아래 이동
   - **D 버튼**: 선택한 횟수 확인
   - **C 버튼**: 뒤로가기

2. **선택 확인**
   - 선택한 횟수가 하이라이트로 표시
   - 터미널에 선택 결과 출력
   - 다음 화면으로 자동 전환

3. **화면 전환 확인**
   - 선택 완료 시 복용 시간 설정 화면으로 전환
   - 선택한 횟수가 다음 화면에 전달됨

## 🔧 화면 구성 요소

### UI 요소
- **제목**: "복용 횟수 설정"
- **복용 횟수 옵션**: 1회, 2회, 3회, 4회
- **선택 표시**: 현재 선택된 항목 하이라이트
- **버튼 힌트**: "A/B: 선택, D: 확인, C: 뒤로가기"

### 선택 옵션
- **1회**: 하루 1번 복용
- **2회**: 하루 2번 복용 (아침, 저녁)
- **3회**: 하루 3번 복용 (아침, 점심, 저녁)
- **4회**: 하루 4번 복용 (아침, 점심, 오후, 저녁)

## 📱 화면 전환

### 선택 완료 시
- **조건**: D 버튼으로 복용 횟수 확인
- **대상**: 복용 시간 설정 화면 (`dose_time`)
- **전달 데이터**: 선택한 복용 횟수
- **방법**: `_on_dose_count_selected()` 호출

### 뒤로가기
- **조건**: C 버튼으로 뒤로가기
- **대상**: Wi-Fi 스캔 화면 또는 Wi-Fi 비밀번호 화면
- **방법**: `_go_back()` 호출

## 🔧 버튼 조작

### A 버튼
- **기능**: 복용 횟수 옵션에서 위로 이동
- **동작**: 이전 옵션 선택 (4회 → 3회 → 2회 → 1회)

### B 버튼
- **기능**: 복용 횟수 옵션에서 아래로 이동
- **동작**: 다음 옵션 선택 (1회 → 2회 → 3회 → 4회)

### C 버튼
- **기능**: 뒤로가기
- **동작**: 이전 화면으로 돌아가기

### D 버튼
- **기능**: 선택 확인
- **동작**: 선택한 복용 횟수로 설정하고 다음 화면으로 이동

## 💊 복용 횟수 로직

### 선택 과정
1. **옵션 표시**: 1회부터 4회까지 옵션 표시
2. **네비게이션**: A/B 버튼으로 옵션 이동
3. **선택 표시**: 현재 선택된 옵션 하이라이트
4. **확인**: D 버튼으로 선택 확인

### 데이터 전달
- **선택된 횟수**: 다음 화면(복용 시간 설정)에 전달
- **시간 설정**: 선택한 횟수만큼 시간 설정 필요
- **스케줄링**: 복용 시간에 따른 알림 설정


## 📊 성능 최적화

### 메모리 관리
- **옵션 리스트**: 정적 배열로 메모리 절약
- **UI 요소**: 최소한의 요소만 생성
- **가비지 컬렉션**: 화면 전환 시 메모리 정리

### 사용자 경험
- **직관적 네비게이션**: 명확한 버튼 조작
- **시각적 피드백**: 선택 상태 명확히 표시
- **빠른 응답**: 즉시 반응하는 UI

## 🔗 관련 파일

- **`screens/dose_count_screen.py`**: 복용 횟수 설정 화면 구현
- **`screens/dose_time_screen.py`**: 복용 시간 설정 화면 (다음 단계)
- **`main.py`**: 테스트 시스템
- **`screen_manager.py`**: 화면 전환 관리

## 📝 개발 노트

### 최근 변경사항
- **Modern UI**: 일관된 디자인 적용
- **한글 폰트**: Noto Sans KR 사용
- **버튼 조작**: 직관적인 네비게이션

### 향후 개선 계획
- **사용자 정의**: 5회 이상 옵션 추가
- **프리셋**: 일반적인 복용 패턴 프리셋
- **설명 텍스트**: 각 옵션에 대한 상세 설명
