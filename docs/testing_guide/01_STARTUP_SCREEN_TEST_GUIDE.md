# 스타트업 화면 테스트 가이드

> **StartupScreen 테스트 및 사용법**

## 📋 개요

스타트업 화면은 시스템 부팅 시 첫 번째로 표시되는 화면으로, 시스템 초기화 과정을 시각적으로 보여주는 로딩 화면입니다.

## 🎯 주요 기능

- **1% 단위 로딩 진행률 표시**
- **1초 자동 진행** (Wi-Fi 스캔 화면으로 자동 전환)
- **Modern UI 스타일** 적용
- **한글 폰트** 지원
- **프로그레스 바** 애니메이션
- **디스크 원점 보정** (자동 캘리브레이션)
- **부팅 타겟 확인** (D버튼 조건부 재부팅 지원)

## 🚀 테스트 방법

### 1. 개별 화면 테스트
```bash
# main.py 실행 시 자동으로 스타트업 화면이 표시됩니다
# 별도의 메뉴 선택이 필요하지 않습니다
```

### 2. 테스트 시나리오
1. **로딩 애니메이션 확인**
   - 0% → 100%까지 1% 단위로 진행
   - 프로그레스 바가 부드럽게 채워짐
   - 터미널에 10% 단위로 진행률 출력

2. **자동 전환 확인**
   - 1초 후 자동으로 Wi-Fi 스캔 화면으로 전환
   - 전환 시 "✅ 스타트업 화면에서 Wi-Fi 스캔 화면으로 자동 전환됨" 메시지

3. **버튼 조작 테스트**
   - **C 버튼**: 건너뛰기 (즉시 Wi-Fi 스캔 화면으로 이동)
   - **D 버튼**: 다음 (자동 진행과 동일)

4. **디스크 캘리브레이션 테스트**
   - 디스크 1, 2, 3 순서로 자동 캘리브레이션
   - 각 디스크별 진행률 표시
   - 캘리브레이션 완료 후 자동 전환

## 🔧 화면 구성 요소

### UI 요소
- **제목**: "필박스 시스템"
- **로딩 텍스트**: "로딩 중... X%" (0% → 100%)
- **프로그레스 바**: 시각적 진행률 표시
- **버튼 힌트**: "C:건너뛰기 D:다음"

### 스타일
- **Modern UI 테마** 적용
- **한글 폰트** (Noto Sans KR Regular)
- **중앙 정렬** 레이아웃
- **부드러운 애니메이션**

## 📱 화면 전환

### 자동 전환
- **조건**: 2초 경과
- **대상**: Wi-Fi 스캔 화면 (`wifi_scan`)
- **방법**: `_go_to_wifi_setup()` 호출

### 수동 전환
- **C 버튼**: 즉시 Wi-Fi 스캔 화면으로 이동
- **D 버튼**: 자동 진행과 동일한 동작


## 📊 성능 최적화

### 메모리 관리
- **LVGL 리소스 정리**: 화면 전환 시 자동 정리
- **가비지 컬렉션**: 메모리 정리 후 강제 실행
- **동적 화면 생성**: 필요 시에만 화면 생성

### 애니메이션 최적화
- **50ms 간격 업데이트**: 부드러운 애니메이션
- **1% 단위 진행**: 자연스러운 로딩 표시
- **터미널 출력 최적화**: 10% 단위마다만 출력

## 🔗 관련 파일

- **`screens/startup_screen.py`**: 스타트업 화면 구현
- **`main.py`**: 테스트 시스템 및 화면 관리
- **`screen_manager.py`**: 화면 전환 관리
- **`ui_style.py`**: UI 스타일 정의

## 📝 개발 노트

### 최근 변경사항
- **1% 단위 로딩**: 기존 20% 단위에서 1% 단위로 변경
- **퍼센트 표시**: "로딩 중... X%" 형식으로 통일
- **부드러운 애니메이션**: 50ms 간격 업데이트로 개선
- **메모리 최적화**: 불필요한 `loading_steps` 배열 제거

### 향후 개선 계획
- **실제 초기화 작업**: 시뮬레이션에서 실제 작업으로 변경
- **사용자 설정**: 로딩 시간 조정 가능
- **다국어 지원**: 영어/한국어 선택 가능
