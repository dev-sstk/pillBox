# 74HC595D μ¤ν…νΌλ¨ν„° ν…μ¤νΈ κ°€μ΄λ“

> **β οΈ μ¤‘μ”**: μ΄ κ°€μ΄λ“λ” μ‘μ—…μκ°€ λ‹¨κ³„λ³„λ΅ λ”°λΌν•  μ μλ„λ΅ μ‘μ„±λμ—μµλ‹λ‹¤. κ° λ‹¨κ³„λ¥Ό μμ„λ€λ΅ μ§„ν–‰ν•μ„Έμ”.

## π“‹ λ©μ°¨
1. [μ¤€λΉ„μ‚¬ν•­ ν™•μΈ](#μ¤€λΉ„μ‚¬ν•­-ν™•μΈ)
2. [ν•λ“μ›¨μ–΄ μ—°κ²°](#ν•λ“μ›¨μ–΄-μ—°κ²°)
3. [ν…μ¤νΈ νμΌ μ—…λ΅λ“](#ν…μ¤νΈ-νμΌ-μ—…λ΅λ“)
4. [ν…μ¤νΈ μ‹¤ν–‰](#ν…μ¤νΈ-μ‹¤ν–‰)
5. [λ¬Έμ  ν•΄κ²°](#λ¬Έμ -ν•΄κ²°)
6. [μ™„λ£ μ²΄ν¬λ¦¬μ¤νΈ](#μ™„λ£-μ²΄ν¬λ¦¬μ¤νΈ)

---

## π― μ¤€λΉ„μ‚¬ν•­ ν™•μΈ

### β… ν•„μ”ν• ν•λ“μ›¨μ–΄
- [ ] ESP32-C6 κΈ°λ° PCB
- [ ] 74HC595D μ‹ν”„νΈ λ μ§€μ¤ν„° μ—°κ²°λ PCB
- [ ] ULN2003 μ¤ν…νΌλ¨ν„° λ“λΌμ΄λ²„
- [ ] 28BYJ-48 μ¤ν…νΌλ¨ν„° 4κ°
- [ ] USB μΌ€μ΄λΈ”
- [ ] μ»΄ν“¨ν„° (Windows 10/11)

### β… ν•„μ”ν• μ†ν”„νΈμ›¨μ–΄
- [ ] Python 3.8 μ΄μƒ
- [ ] esptool, ampy μ„¤μΉ μ™„λ£
- [ ] PuTTY μ„¤μΉ μ™„λ£
- [ ] μµμ‹  νμ›¨μ–΄ μ—…λ΅λ“ μ™„λ£

### π“¦ ν…μ¤νΈ λ€μƒ
- **74HC595D** μ‹ν”„νΈ λ μ§€μ¤ν„° (2κ°) - μ§λ ¬ μ…λ ¥μ„ λ³‘λ ¬ μ¶λ ¥μΌλ΅ λ³€ν™
- **ULN2003** μ¤ν…νΌλ¨ν„° λ“λΌμ΄λ²„
- **28BYJ-48** μ¤ν…νΌλ¨ν„° (4κ°)
- **74HC165D** μ…λ ¥ μ‹ν”„νΈ λ μ§€μ¤ν„° (λ¦¬λ―ΈνΈ μ¤μ„μΉμ©)
- **ESP32-C6** GPIO μΈν„°νμ΄μ¤

### π”„ λ¨ν„° μ μ–΄ λ°©μ‹
- **λ¨ν„° 0**: 74HC595D #1μ Q0~Q3 (ν•μ„ 4λΉ„νΈ)
- **λ¨ν„° 1**: 74HC595D #1μ Q4~Q7 (μƒμ„ 4λΉ„νΈ)
- **λ¨ν„° 2**: 74HC595D #2μ Q0~Q3 (ν•μ„ 4λΉ„νΈ)
- **λ¨ν„° 3**: 74HC595D #2μ Q4~Q7 (μƒμ„ 4λΉ„νΈ)

---

## π” ν•λ“μ›¨μ–΄ μ—°κ²°

### 74HC595D μ¶λ ¥ μ—°κ²°
```
ESP32-C6          74HC595D #1
GPIO2 (DI)     β†’  DS (Data Input)
GPIO3 (SH_CP)  β†’  SH_CP (Shift Clock)
GPIO15 (ST_CP) β†’  ST_CP (Storage Clock)
3.3V           β†’  VCC
GND            β†’  GND

74HC595D #1    β†’  ULN2003 #1
Q0             β†’  IN1 (λ¨ν„° 0 - A)
Q1             β†’  IN2 (λ¨ν„° 0 - B)
Q2             β†’  IN3 (λ¨ν„° 0 - C)
Q3             β†’  IN4 (λ¨ν„° 0 - D)
Q4             β†’  IN1 (λ¨ν„° 1 - A)
Q5             β†’  IN2 (λ¨ν„° 1 - B)
Q6             β†’  IN3 (λ¨ν„° 1 - C)
Q7             β†’  IN4 (λ¨ν„° 1 - D)

74HC595D #2    β†’  ULN2003 #2
Q0             β†’  IN1 (λ¨ν„° 2 - A)
Q1             β†’  IN2 (λ¨ν„° 2 - B)
Q2             β†’  IN3 (λ¨ν„° 2 - C)
Q3             β†’  IN4 (λ¨ν„° 2 - D)
Q4             β†’  IN1 (λ¨ν„° 3 - A)
Q5             β†’  IN2 (λ¨ν„° 3 - B)
Q6             β†’  IN3 (λ¨ν„° 3 - C)
Q7             β†’  IN4 (λ¨ν„° 3 - D)
```

### λ¦¬λ―ΈνΈ μ¤μ„μΉ μ—°κ²° (74HC165D)
```
74HC165D       β†’  λ¦¬λ―ΈνΈ μ¤μ„μΉ
A4             β†’  λ¨ν„° 0 λ¦¬λ―ΈνΈ μ¤μ„μΉ
A5             β†’  λ¨ν„° 1 λ¦¬λ―ΈνΈ μ¤μ„μΉ
A6             β†’  λ¨ν„° 2 λ¦¬λ―ΈνΈ μ¤μ„μΉ
A7             β†’  λ¨ν„° 3 λ¦¬λ―ΈνΈ μ¤μ„μΉ
```

### μ¤ν…νΌλ¨ν„° μ—°κ²°
```
ULN2003        β†’  28BYJ-48
OUT1           β†’  λΉ¨κ°„μƒ‰ (A)
OUT2           β†’  μ£Όν™©μƒ‰ (B)
OUT3           β†’  λ…Έλ€μƒ‰ (C)
OUT4           β†’  λ¶„ν™μƒ‰ (D)
VCC            β†’  5V μ „μ›
GND            β†’  GND
```

---

## π“¤ ν…μ¤νΈ νμΌ μ—…λ΅λ“

### 1λ‹¨κ³„: ν…μ¤νΈ νμΌ μ—…λ΅λ“

1. **λ…λ Ή ν”„λ΅¬ν”„νΈ μ—΄κΈ°**
   - Windows ν‚¤ + R β†’ `cmd` μ…λ ¥ β†’ Enter

2. **ν”„λ΅μ νΈ ν΄λ”λ΅ μ΄λ™**
   ```cmd
   cd C:\Users\outrobot\OneDrive\μ‚¬μ—…\μ•„μ›ƒλ΅λ΄‡\μ‹ μ„±ν…ν¬\μ†μ¤μ½”λ“_μ „λ‹¬\pillBox
   ```

3. **ν…μ¤νΈ νμΌ μ—…λ΅λ“**
   ```cmd
   ampy -p COM3 put .\tests\test_74hc595_stepper.py
   ```

   **β οΈ μ¤‘μ”**: `COM3`μ„ μ‹¤μ  COM ν¬νΈ λ²νΈλ΅ λ³€κ²½ν•μ„Έμ”!

---

## π§ ν…μ¤νΈ μ‹¤ν–‰

### 1λ‹¨κ³„: PuTTY μ—°κ²°

1. **PuTTY μ‹¤ν–‰**
   - PuTTY μ‹¤ν–‰ β†’ Load β†’ Open

2. **μ—°κ²° ν™•μΈ**
   - MicroPython ν”„λ΅¬ν”„νΈ(`>>>`)κ°€ λ‚νƒ€λ‚λ©΄ μ„±κ³µ

### 2λ‹¨κ³„: ν…μ¤νΈ μ‹¤ν–‰

1. **ν…μ¤νΈ λ¨λ“ μ„ν¬νΈ λ° μ‹¤ν–‰**
   ```python
   from test_74hc595_stepper import main
   main()
   ```

2. **ν…μ¤νΈ λ©”λ‰΄ ν™•μΈ**
   - λ‹¤μκ³Ό κ°™μ€ λ©”λ‰΄κ°€ λ‚νƒ€λ‚©λ‹λ‹¤:
   ```
   74HC595D + ULN2003 μ¤ν…νΌλ¨ν„° ν…μ¤νΈ
   ==================================================
   
   ν…μ¤νΈ λ©”λ‰΄:
   1. λ¨ν„° 0 ν…μ¤νΈ
   2. λ¨ν„° 1 ν…μ¤νΈ
   3. λ¨ν„° 2 ν…μ¤νΈ
   4. λ¨ν„° 3 ν…μ¤νΈ
   5. λ¨λ“  λ¨ν„° ν…μ¤νΈ
   6. λ¨λ“  λ¨ν„° λ™μ‹ λ™μ‘ ν…μ¤νΈ
   7. λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   8. λ¨ν„° 0 λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   9. λ¨ν„° 1 λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   10. λ¨ν„° 2 λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   11. λ¨ν„° 3 λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   12. λ¨λ“  λ¨ν„° λ¬΄ν• νμ „ + λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   13. λ¨ν„° 0 λ¬΄ν• νμ „ + λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   14. λ¨ν„° 1 λ¬΄ν• νμ „ + λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   15. λ¨ν„° 2 λ¬΄ν• νμ „ + λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   16. λ¨ν„° 3 λ¬΄ν• νμ „ + λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
   17. μ‹ν€€μ¤ ν¨ν„΄ ν…μ¤νΈ
18. μ—°μ† νμ „ ν…μ¤νΈ
19. μ‹ν”„νΈ λ μ§€μ¤ν„° μ¶λ ¥ ν…μ¤νΈ
20. μ›μ‹ μ…λ ¥ λ°μ΄ν„° λ””λ²„κΉ…
21. μ†λ„ λ³€ν™” ν…μ¤νΈ
22. λ€ν™”ν• μ†λ„ μ„¤μ •
23. λΉ„λΈ”λ΅ν‚Ή λ¨ν„° ν…μ¤νΈ
24. λΉ„λΈ”λ΅ν‚Ή λ¨ν„° κ°λ³„ μ μ–΄ ν…μ¤νΈ
25. λΉ„λΈ”λ΅ν‚Ή λ°λ¨ ν…μ¤νΈ
26. λ€ν™”ν• λΉ„λΈ”λ΅ν‚Ή λ¨ν„° μ μ–΄ ν…μ¤νΈ
27. λ¨ν„° 0 λΉ„λΈ”λ΅ν‚Ή ν…μ¤νΈ
28. λ¨ν„° 1 λΉ„λΈ”λ΅ν‚Ή ν…μ¤νΈ
29. λ¨ν„° 2 λΉ„λΈ”λ΅ν‚Ή ν…μ¤νΈ
30. λ¨ν„° 3 λΉ„λΈ”λ΅ν‚Ή ν…μ¤νΈ
0. μΆ…λ£

μ„ νƒν•μ„Έμ” (0-30): 
```

### 4. ν…μ¤νΈ κ²°κ³Ό μμ‹

#### κ°λ³„ λ¨ν„° ν…μ¤νΈ
```
=== λ¨ν„° 0 ν…μ¤νΈ ===
μ •λ°©ν–¥ 1νμ „...
λ¨ν„° 0 1νμ „ μ‹μ‘ (2048μ¤ν…)
λ¨ν„° 0 νμ „ μ™„λ£
μ—­λ°©ν–¥ 1νμ „...
λ¨ν„° 0 1νμ „ μ‹μ‘ (2048μ¤ν…)
λ¨ν„° 0 νμ „ μ™„λ£
λ¨ν„° 0 μ •μ§€
λ¨ν„° 0 ν…μ¤νΈ μ™„λ£
```

#### λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ
```
=== λ¦¬λ―ΈνΈ μ¤μ„μΉ ν…μ¤νΈ ===
κ° λ¨ν„°μ λ¦¬λ―ΈνΈ μ¤μ„μΉλ¥Ό λλ¬λ³΄μ„Έμ”.
Ctrl+Cλ΅ μΆ…λ£
μ΄κΈ° μƒνƒ:
Pin States:
  SW1(Menu): HIGH
  SW2(Select): HIGH
  SW3(Up): HIGH
  SW4(Down): HIGH
  LIMIT SW1: HIGH
  LIMIT SW2: HIGH
  LIMIT SW3: HIGH
  LIMIT SW4: HIGH

[   1]    12.3s - λ³€κ²½ κ°μ§€! SW1:H SW2:H SW3:H SW4:H LIM1:L LIM2:H LIM3:H LIM4:H
```

μ΄ κ°€μ΄λ“λ¥Ό λ”°λΌ 74HC595D μ¤ν…νΌλ¨ν„° μ‹μ¤ν…μ„ μ •ν™•ν ν…μ¤νΈν•  μ μμµλ‹λ‹¤.
